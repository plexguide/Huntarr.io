<section id="settingsImportListsSection" class="content-section" style="display: none;">
    {% with section_id='settings-import-lists' %}{% include 'components/sponsor_banners_partial.html' %}{% endwith %}
    <div id="importListsManagementContainer" class="app-content-panel">
        <!-- No-instances warning box (same style as Media Management) -->
        <div id="settings-import-lists-no-instances" class="settings-no-instances" style="display: none;">
            <i class="fas fa-cube" aria-hidden="true"></i>
            <p class="no-instances-title">No instances configured</p>
            <p class="no-instances-desc">Configure a Movie Hunt or TV Hunt instance to manage import lists.</p>
            <a href="./#media-hunt-instances" class="no-instances-action-btn"><i class="fas fa-cog"></i> Configure instances</a>
        </div>
        <div id="settings-import-lists-no-indexers" class="settings-no-indexers" style="display: none;">
            <i class="fas fa-satellite-dish" aria-hidden="true"></i>
            <p class="no-instances-title">No indexers configured</p>
            <p class="no-instances-desc">Configure at least one indexer in the Index Master Pool to use this section.</p>
            <a href="./#indexer-hunt" class="no-instances-action-btn"><i class="fas fa-plus"></i> Add Indexer</a>
        </div>
        <div id="settings-import-lists-content-wrapper" style="display: none;">
        <div class="media-hunt-settings-instance-bar" style="margin-bottom: 16px;">
            <select id="settings-import-lists-instance-select" class="control-select" aria-label="Instance">
                <option value="">Loading...</option>
            </select>
        </div>

        <div class="settings-group import-lists-settings-group">
            <div class="import-lists-header">
                <div>
                    <h3>Import Lists</h3>
                    <p class="import-lists-help">Automatically add movies to your collection from external lists. Lists sync on a schedule and new movies are added automatically.</p>
                </div>
                <div class="import-lists-header-actions">
                    <button type="button" class="btn-sync-all" id="import-lists-sync-all-btn" title="Sync All Lists">
                        <i class="fas fa-sync-alt"></i> Sync All
                    </button>
                </div>
            </div>
            <div class="instance-card-grid" id="import-lists-grid">
                <div class="add-instance-card add-import-list-card" id="import-lists-add-card" data-app-type="import-list">
                    <div class="add-icon"><i class="fas fa-plus-circle"></i></div>
                    <div class="add-text">Add Import List</div>
                </div>
            </div>
        </div>
        </div>
    </div>

    <!-- Add Import List modal -->
    <div id="import-list-add-modal" class="import-list-modal" style="display: none;">
        <div class="import-list-modal-backdrop" id="import-list-add-modal-backdrop"></div>
        <div class="import-list-modal-content">
            <div class="import-list-modal-header">
                <button type="button" class="import-list-modal-close" id="import-list-add-modal-close" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
                <h2 class="import-list-modal-title">Add Import List</h2>
                <p class="import-list-modal-subtitle">Choose a list source to automatically import movies.</p>
            </div>

            <!-- Step 1: Pick list type -->
            <div id="import-list-type-picker" class="import-list-type-picker">
                <div class="import-list-type-grid" id="import-list-type-grid">
                    <!-- Populated by JS -->
                </div>
            </div>

            <!-- Step 2: Configure list -->
            <div id="import-list-config-form" class="import-list-config-form" style="display: none;">
                <div class="import-list-config-back" id="import-list-config-back">
                    <i class="fas fa-arrow-left"></i> Back to list types
                </div>

                <div class="import-list-form-group">
                    <label for="import-list-name">List Name</label>
                    <input type="text" id="import-list-name" class="control-input" placeholder="My List">
                </div>

                <div class="import-list-form-group" id="import-list-subtype-group" style="display: none;">
                    <label for="import-list-subtype">List Type</label>
                    <select id="import-list-subtype" class="control-select">
                        <!-- Populated by JS -->
                    </select>
                </div>

                <!-- Dynamic settings fields inserted here -->
                <div id="import-list-dynamic-fields"></div>

                <div class="import-list-form-group">
                    <label for="import-list-interval">Sync Interval</label>
                    <select id="import-list-interval" class="control-select">
                        <option value="1">Every 1 hour</option>
                        <option value="3">Every 3 hours</option>
                        <option value="6">Every 6 hours</option>
                        <option value="12" selected>Every 12 hours</option>
                        <option value="24">Every 24 hours</option>
                        <option value="48">Every 2 days</option>
                        <option value="72">Every 3 days</option>
                        <option value="168">Every 7 days</option>
                    </select>
                </div>

                <div class="import-list-form-actions">
                    <button type="button" class="btn-cancel" id="import-list-cancel-btn">Cancel</button>
                    <button type="button" class="btn-save" id="import-list-save-btn">
                        <i class="fas fa-plus"></i> Add List
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Import List modal -->
    <div id="import-list-edit-modal" class="import-list-modal" style="display: none;">
        <div class="import-list-modal-backdrop" id="import-list-edit-modal-backdrop"></div>
        <div class="import-list-modal-content">
            <div class="import-list-modal-header">
                <button type="button" class="import-list-modal-close" id="import-list-edit-modal-close" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
                <h2 class="import-list-modal-title">Edit Import List</h2>
            </div>

            <div class="import-list-config-form">
                <div class="import-list-form-group">
                    <label for="import-list-edit-name">List Name</label>
                    <input type="text" id="import-list-edit-name" class="control-input">
                </div>

                <div class="import-list-form-group" id="import-list-edit-subtype-group" style="display: none;">
                    <label for="import-list-edit-subtype">List Type</label>
                    <select id="import-list-edit-subtype" class="control-select">
                    </select>
                </div>

                <!-- Dynamic settings fields for edit -->
                <div id="import-list-edit-dynamic-fields"></div>

                <div class="import-list-form-group">
                    <label for="import-list-edit-interval">Sync Interval</label>
                    <select id="import-list-edit-interval" class="control-select">
                        <option value="1">Every 1 hour</option>
                        <option value="3">Every 3 hours</option>
                        <option value="6">Every 6 hours</option>
                        <option value="12">Every 12 hours</option>
                        <option value="24">Every 24 hours</option>
                        <option value="48">Every 2 days</option>
                        <option value="72">Every 3 days</option>
                        <option value="168">Every 7 days</option>
                    </select>
                </div>

                <div class="import-list-form-actions">
                    <button type="button" class="btn-cancel" id="import-list-edit-cancel-btn">Cancel</button>
                    <button type="button" class="btn-delete" id="import-list-edit-delete-btn">
                        <i class="fas fa-trash"></i> Delete
                    </button>
                    <button type="button" class="btn-save" id="import-list-edit-save-btn">
                        <i class="fas fa-save"></i> Save
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>
<style>
/* No-instances warning box â€” same style as Media Management */
#settingsImportListsSection .settings-no-instances {
    text-align: center; padding: 64px 24px; width: 100%; box-sizing: border-box;
    background: rgba(15, 23, 42, 0.4); border: 1px solid rgba(148, 163, 184, 0.08);
    border-radius: 12px; margin: 0 0 20px 0; box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
}
#settingsImportListsSection .settings-no-instances i.fa-cube { font-size: 3rem; color: #334155; margin-bottom: 16px; display: block; }
#settingsImportListsSection .settings-no-instances .no-instances-title { font-size: 1.2rem; font-weight: 600; color: #f1f5f9; margin: 0 0 8px 0; }
#settingsImportListsSection .settings-no-instances .no-instances-desc { font-size: 0.95rem; color: #94a3b8; line-height: 1.6; margin: 0 auto 24px auto; max-width: 400px; }
#settingsImportListsSection .settings-no-instances .no-instances-action-btn {
    display: inline-flex; align-items: center; gap: 8px; background: rgba(99, 102, 241, 0.2);
    border: 1px solid rgba(99, 102, 241, 0.4); color: #818cf8; padding: 10px 20px; border-radius: 8px;
    text-decoration: none; font-weight: 500; transition: background 0.2s, border-color 0.2s;
}
#settingsImportListsSection .settings-no-instances .no-instances-action-btn:hover {
    background: rgba(99, 102, 241, 0.3); border-color: rgba(99, 102, 241, 0.5);
}
</style>
