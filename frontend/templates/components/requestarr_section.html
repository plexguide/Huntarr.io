<!-- Requestarr Section - Discover Style -->
<div id="requestarr-section" class="content-section" style="display: none;">
    <link rel="stylesheet" href="./static/css/requestarr-discover.css">
    
    <div class="requestarr-content">
        <!-- Global Search Bar -->
        <div class="global-search-bar">
            <i class="fas fa-search"></i>
            <input type="text" id="global-search-input" placeholder="Search Movies & TV" autocomplete="off">
        </div>
        
        <!-- Search Results View -->
        <div id="search-results-view" style="display: none;">
            <h2 class="search-results-title">Search Results</h2>
            <div id="search-results-grid" class="search-results-grid">
                <!-- Search results will be populated here -->
            </div>
        </div>
        
        <!-- Discover View -->
        <div id="requestarr-discover-view" class="requestarr-view active">
            <h1 class="page-title">Discover</h1>
            
            <!-- Trending Section -->
            <section class="carousel-section">
                <h2 class="section-title">Trending This Week</h2>
                <div class="carousel-container">
                    <button class="carousel-arrow left" data-target="trending-carousel">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div id="trending-carousel" class="media-carousel">
                        <div class="loading-spinner">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Loading trending content...</p>
                        </div>
                    </div>
                    <button class="carousel-arrow right" data-target="trending-carousel">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </section>

            <!-- Popular Movies Section -->
            <section class="carousel-section">
                <h2 class="section-title">Popular Movies</h2>
                <div class="carousel-container">
                    <button class="carousel-arrow left" data-target="popular-movies-carousel">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div id="popular-movies-carousel" class="media-carousel">
                        <div class="loading-spinner">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Loading movies...</p>
                        </div>
                    </div>
                    <button class="carousel-arrow right" data-target="popular-movies-carousel">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </section>

            <!-- Popular TV Section -->
            <section class="carousel-section">
                <h2 class="section-title">Popular TV Shows</h2>
                <div class="carousel-container">
                    <button class="carousel-arrow left" data-target="popular-tv-carousel">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div id="popular-tv-carousel" class="media-carousel">
                        <div class="loading-spinner">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Loading TV shows...</p>
                        </div>
                    </div>
                    <button class="carousel-arrow right" data-target="popular-tv-carousel">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </section>
        </div>

        <!-- Movies View -->
        <div id="requestarr-movies-view" class="requestarr-view">
            <div class="view-header">
                <h1 class="page-title">Movies</h1>
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" id="movies-search" placeholder="Search movies..." autocomplete="off">
                </div>
            </div>
            
            <section class="carousel-section">
                <div class="carousel-container">
                    <button class="carousel-arrow left" data-target="movies-carousel">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div id="movies-carousel" class="media-carousel">
                        <!-- Movie cards will be populated here -->
                    </div>
                    <button class="carousel-arrow right" data-target="movies-carousel">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </section>
        </div>

        <!-- TV Shows View -->
        <div id="requestarr-tv-view" class="requestarr-view">
            <div class="view-header">
                <h1 class="page-title">TV Shows</h1>
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" id="tv-search" placeholder="Search TV shows..." autocomplete="off">
                </div>
            </div>
            
            <section class="carousel-section">
                <div class="carousel-container">
                    <button class="carousel-arrow left" data-target="tv-carousel">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div id="tv-carousel" class="media-carousel">
                        <!-- TV cards will be populated here -->
                    </div>
                    <button class="carousel-arrow right" data-target="tv-carousel">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </section>
        </div>

        <!-- History View -->
        <div id="requestarr-history-view" class="requestarr-view">
            <h1 class="page-title">Request History</h1>
            <div id="history-list" class="history-container">
                <div class="loading-spinner">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Loading history...</p>
                </div>
            </div>
        </div>

        <!-- Settings View -->
        <div id="requestarr-settings-view" class="requestarr-view">
            <h1 class="page-title">Requestarr Settings</h1>
            <div class="requestarr-settings-container">
                <div class="settings-card">
                    <h3>Default Instances</h3>
                    <p class="settings-description">Select default instances for checking availability and pre-selecting in request forms.</p>
                    
                    <div class="settings-field">
                        <label for="default-sonarr-instance">Default Sonarr Instance</label>
                        <select id="default-sonarr-instance" class="settings-select">
                            <option value="">No Instance Configured</option>
                        </select>
                        <small>Used for TV show availability checks</small>
                    </div>
                    
                    <div class="settings-field">
                        <label for="default-radarr-instance">Default Radarr Instance</label>
                        <select id="default-radarr-instance" class="settings-select">
                            <option value="">No Instance Configured</option>
                        </select>
                        <small>Used for movie availability checks</small>
                    </div>
                    
                    <div class="settings-actions">
                        <button id="save-requestarr-settings" class="btn-primary">
                            <i class="fas fa-save"></i> Save Settings
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Media Details -->
    <div id="media-modal" class="media-modal" style="display: none;">
        <div class="modal-backdrop" onclick="RequestarrDiscover.closeModal()"></div>
        <div class="modal-content">
            <button class="modal-close" onclick="RequestarrDiscover.closeModal()">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="modal-body">
                <!-- Backdrop -->
                <div class="modal-backdrop-image"></div>
                
                <!-- Content -->
                <div class="modal-info">
                    <div class="modal-poster">
                        <img src="" alt="Poster">
                    </div>
                    
                    <div class="modal-details">
                        <h1 class="modal-title"></h1>
                        <div class="modal-meta">
                            <span class="year"></span>
                            <span class="rating"></span>
                            <span class="runtime"></span>
                        </div>
                        <div class="modal-genres"></div>
                        <p class="modal-overview"></p>
                        
                        <!-- Request Options -->
                        <div class="modal-request-section">
                            <h3>Request This Title</h3>
                            
                            <!-- Instance Selection -->
                            <div class="form-group">
                                <label>Select Instance</label>
                                <select id="modal-instance-select" class="modal-select">
                                    <option value="">Select an instance...</option>
                                </select>
                            </div>
                            
                            <!-- Request Button -->
                            <button id="modal-request-btn" class="modal-request-btn" disabled>
                                <i class="fas fa-plus"></i>
                                Request
                            </button>
                            
                            <!-- Status Message -->
                            <div id="modal-status" class="modal-status"></div>
                        </div>
                        
                        <!-- Additional Info -->
                        <div class="modal-extra-info">
                            <div class="cast-section">
                                <h4>Cast</h4>
                                <div class="cast-list"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="./static/js/requestarr-discover.js"></script>
</div>
